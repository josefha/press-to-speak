NODE_ENV=development
PORT=8787
LOG_LEVEL=info
LOG_PRETTY=true
LOG_PIPELINE_TEXT=true
LOG_PROVIDER_PAYLOADS=true
LOG_TEXT_MAX_CHARS=1200

ELEVENLABS_API_KEY=
ELEVENLABS_API_BASE_URL=https://api.elevenlabs.io
ELEVENLABS_MODEL_ID=scribe_v2
TRANSCRIPTION_REQUEST_TIMEOUT_MS=20000
TRANSCRIPTION_MAX_FILE_BYTES=26214400

OPENAI_API_KEY=
OPENAI_API_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-5-mini
OPENAI_REWRITE_TIMEOUT_MS=2000

# Optional shared API key gate for proxy clients (matches mac TRANSCRIPTION_PROXY_API_KEY).
PROXY_SHARED_API_KEY=

# User authentication:
# - off: do not verify Supabase JWTs, allow x-user-id fallback.
# - optional: verify Supabase JWT when Authorization: Bearer <token> is provided.
# - required: reject requests unless Authorization: Bearer <Supabase access token> is valid.
USER_AUTH_MODE=required

# Allow unauthenticated BYOK requests when both x-openai-api-key and x-elevenlabs-api-key are sent.
# Keep this disabled in production unless you explicitly want an open route.
ALLOW_UNAUTHENTICATED_BYOK=false
BYOK_HEADER_MAX_CHARS=512
UNAUTH_RATE_LIMIT_WINDOW_MS=60000
UNAUTH_RATE_LIMIT_MAX_REQUESTS=20

# Supabase JWT verification settings.
SUPABASE_URL=
SUPABASE_JWT_SECRET=
SUPABASE_JWT_AUDIENCE=authenticated
SUPABASE_JWKS_TIMEOUT_MS=2000

# Optional overrides (normally derived from SUPABASE_URL):
# SUPABASE_JWT_ISSUER=https://<project-ref>.supabase.co/auth/v1
# SUPABASE_JWKS_URL=https://<project-ref>.supabase.co/auth/v1/.well-known/jwks.json
